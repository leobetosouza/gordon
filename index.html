<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Building Blocks app</title>
  <script>
    // Trun it to false to always install 'normal' package
    var supportHIDPI = false;
    var isFFOS = ("mozApps" in navigator && navigator.userAgent.search("Mobile") != -1);

    if ( isFFOS ) {
      var manifestUrl = 'http://buildingfirefoxos.github.io/Building-Blocks/package/package.manifest';
      var req = navigator.mozApps.installPackage(manifestUrl);
      req.onsuccess = function() {
        console.log(this.result.origin);
      };
      req.onerror = function() {
        console.log(this.error.name);
      };

    } else {
      window.location.href = "app.html"
    }

  </script>
</head>
<body>

    <form action="https://api.duckduckgo.com/?format=json&pretty=1&no_redirect=1&callback=ffos" >
        <input type="text" value="" placeholder="what do you need?" name="q" id="" />
        <input type="hidden" name="callback" value="ffos" />
        <input type="hidden" name="no_redirect" value="1" />
        <input type="hidden" name="pretty" value="1"  />
        <input type="hidden" name="format" value="json" />
    </form>
</body>
</html>
